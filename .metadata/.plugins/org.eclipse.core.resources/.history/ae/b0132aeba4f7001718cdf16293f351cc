package daa38.CSP.LookBack;

import java.util.ArrayList;

import daa38.CSP.Auxiliary.StepFrame;

public class Backtrack implements LookBack {

	@Override
	public int jump(ArrayList<StepFrame> pSteps, int pIndex) {
		
		Collection<StepFrame> lSteps = mSolver.mSteps;
		
		pSteps.get(pIndex).resetFrame();
		pIndex--;
		
		if (pIndex==-1) //Failed to find a solution
			return pIndex;
		
		StepFrame currentFrame = pSteps.get(pIndex);
		
		//DEBUG:
		//System.out.println("Backtrack to:");
		//currentFrame.outputFrame();
		
		currentFrame.removeValue();
		currentFrame.mNowValIndex++;
		
		return pIndex;
	}

}
